<odoo>

    <record model="ir.ui.view" id="commission_land_tree" >
        <field name="name">commission.land.tree</field>
        <field name="model">commission.land</field>
        <field name="arch" type="xml">
            <tree string="GUIA" >
                <field name="name" />
                <field name="user_id" />
                <field name="date_start" />
                <field name="date_end" />
                <field name="amount_total" sum="Total" />
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="commission_land_form" >
        <field name="name">commission.land.form</field>
        <field name="model">commission.land</field>
        <field name="arch" type="xml">
            <form string="COMMISSION RIMAC">
                <header>
                    <!--
                     <button name="action_done"
                             string="Finalizar" type="object"
                             states="confirmed"
                           />

                    -->

                     <button name="action_draft"
                             string="Borrador" type="object"
                             states="done"
                           />

                    <button name="action_cancel"
                             string="CANCELAR" type="object"
                             states="draft"
                           />

                    <button name="update_comission"
                             string="Actualizar" type="object"
                             states="draft"
                           />

                     <button name="action_confirm"
                             string="Confirm" type="object"
                             states="draft"
                           />
                    <field name="state"
                           widget="statusbar"

                    />
                </header>
                <sheet>



                    <group>
                        <field name="date_start" attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                        <field name="date_end" attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                        <field name="user_id"  attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                        <field name="goal"  attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                    </group>

                    <notebook>
                        <page string="Sales" name="account_move_line_ids">
                            <field name="account_move_line_ids"
                                   readonly="1"
                                   force_save="1"
                            >
                                <tree string="Sales" >
                                    <field name="move_id" />
                                    <field name="product_id" optional="hidden" />
                                    <field name="name" />
                                    <field name="quantity" />
                                    <field name="price_unit" />
                                    <field name="discount" />
                                    <field name="tax_ids"  widget="many2many_tags" />
                                    <field name="price_total" sum="Total" />
                                    <!--
                                    <field name="price_subtotal_overrun" sum="Total" />
                                    <field name="price_subtotal_origin" sum="Total" />
                                    -->
                                </tree>
                            </field>
                            <group name="note_group" col="6" class="mt-2 mt-md-0">
                            <group colspan="4">
                                   <field colspan="2" name="note"
                                          attrs="{'readonly': [('state', 'not in', ['draft'])]}"
                                          nolabel="1" placeholder="Observaciones..."/>
                            </group>
                            <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                <field name="amount_total_base_sale" readonly="1" force_save="1" />
                                <field name="percentage_total_base_sale"  readonly="1" force_save="1" />
                                <field name="comission_amount_total_base_sale"  readonly="1" force_save="1" />
                                <!--
                                <field name="overrun_sale"  readonly="1" force_save="1" />
                                <field name="percentage_overrun_sale"  readonly="1" force_save="1" />
                                <field name="comission_overrun_sale"  readonly="1" force_save="1" />
                                -->
                                <field name="amount_total"  readonly="1" force_save="1" />
                            </group>
                            <div class="clearfix"/>
                        </group>
                        </page>
                    </notebook>

                </sheet>


            </form>
        </field>
    </record>



    <record id="action_commission_land" model="ir.actions.act_window">
        <field name="name">Commission Riman</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">commission.land</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem action="action_commission_land"
              id="menu_commission"
              parent="sale.sale_order_menu"
              sequence="100"
    />
</odoo>