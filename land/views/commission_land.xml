<odoo>

    <record model="ir.ui.view" id="commission_land_tree" >
        <field name="name">commission.land.tree</field>
        <field name="model">commission.land</field>
        <field name="arch" type="xml">
            <tree string="GUIA" >
                <field name="name" />
                <field name="user_id" />
                <field name="date_start" />
                <field name="date_end" />
                <field name="amount_total" sum="Total" />
            </tree>
        </field>
    </record>


    <record model="ir.ui.view" id="commission_land_form" >
        <field name="name">commission.land.form</field>
        <field name="model">commission.land</field>
        <field name="arch" type="xml">
            <form string="COMMISSION RIMAC">
                <header>
                    <!--
                     <button name="action_done"
                             string="Finalizar" type="object"
                             states="confirmed"
                           />

                    -->

                     <button name="action_draft"
                             string="Borrador" type="object"
                             states="done"
                           />

                    <button name="action_cancel"
                             string="CANCELAR" type="object"
                             states="draft"
                           />

                    <button name="update_comission"
                             string="Actualizar" type="object"
                             states="draft"
                           />

                     <button name="action_confirm"
                             string="Confirm" type="object"
                             states="draft"
                           />
                    <field name="state"
                           widget="statusbar"

                    />
                </header>
                <sheet>



                    <group>
                        <group>
                            <field name="user_id"  attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                            <field name="type_period_comission"  />
                            <field name="date_commission"  />
                        </group>
                        <group>
                            <field name="date_start" attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                            <field name="date_end" attrs="{'readonly': [('state', 'not in', ['draft'])]}" />
                            <field name="team_id"  />

                        </group>






                    </group>

                    <notebook>
                        <page string="Sales" name="account_move_line_ids">
                            <field name="line_ids"

                            >
                                <tree string="Commisiones"  editable="bottom">
                                    <field name="sale_id" />
                                    <field name="nro_internal_land" />
                                    <field name="commision_lan" />
                                    <field name="amount" />
                                    <field name="desc" />
                                    <field name="subtotal" />

                                </tree>
                            </field>
                            <group name="note_group" col="6" class="mt-2 mt-md-0">
                            <group colspan="4">
                                   <field colspan="2" name="note"
                                          attrs="{'readonly': [('state', 'not in', ['draft'])]}"
                                          nolabel="1" placeholder="Observaciones..."/>
                            </group>
                            <group class="oe_subtotal_footer oe_right" colspan="2" name="sale_total">
                                <field name="amount_base" readonly="1" force_save="1" />
                                <field name="amount_discount"  readonly="1" force_save="1" />
                                <field name="amount_bonus"  readonly="1" force_save="1" />

                                <field name="amount_total"  readonly="1" force_save="1" />
                            </group>
                            <div class="clearfix"/>
                        </group>
                        </page>
                    </notebook>

                </sheet>


            </form>
        </field>
    </record>



    <record id="action_commission_land" model="ir.actions.act_window">
        <field name="name">Commission Terrenos</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">commission.land</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem action="action_commission_land"
              id="menu_commissionx"
              parent="sale.sale_order_menu"
              sequence="100"
    />
</odoo>